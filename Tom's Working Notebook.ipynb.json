{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T17:16:28.165424Z",
     "start_time": "2019-11-13T17:16:26.322247Z"
    }
   },
   "outputs": [],
   "source": [
    "import sqlite3\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import requests\n",
    "import pymongo\n",
    "from pymongo import MongoClient\n",
    "import json\n",
    "import data_cleaning as dc\n",
    "import numpy as np\n",
    "import scipy\n",
    "from scipy import stats\n",
    "import seaborn as sns\n",
    "import matplotlib.pyplot as plt\n",
    "from statsmodels.stats.power import tt_ind_solve_power\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T11:11:04.214991Z",
     "start_time": "2019-11-13T11:11:04.135397Z"
    }
   },
   "outputs": [],
   "source": [
    "data = pd.read_excel('neets-borough-region.xls', sheet_name ='Annual (16-18)')\n",
    "data.drop(['Numbers','Unnamed: 3','Unnamed: 4','Unnamed: 5','Unnamed: 6','Unnamed: 7','Unnamed: 8','Unnamed: 9'],axis=1, inplace = True,)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T11:11:04.739077Z",
     "start_time": "2019-11-13T11:11:04.713663Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>Unnamed: 1</th>\n",
       "      <th>Rates</th>\n",
       "      <th>Unnamed: 11</th>\n",
       "      <th>Unnamed: 12</th>\n",
       "      <th>Unnamed: 13</th>\n",
       "      <th>Unnamed: 14</th>\n",
       "      <th>Unnamed: 15</th>\n",
       "      <th>Unnamed: 16</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Code</td>\n",
       "      <td>Borough</td>\n",
       "      <td>2009</td>\n",
       "      <td>2010</td>\n",
       "      <td>2011.000000</td>\n",
       "      <td>2012.0</td>\n",
       "      <td>2013.000000</td>\n",
       "      <td>2014.0</td>\n",
       "      <td>2015.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>E09000001</td>\n",
       "      <td>City of London</td>\n",
       "      <td>0.6</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.900000</td>\n",
       "      <td>0.3</td>\n",
       "      <td>2.900000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>E09000002</td>\n",
       "      <td>Barking &amp; Dagenham</td>\n",
       "      <td>7.9</td>\n",
       "      <td>6.9</td>\n",
       "      <td>6.600000</td>\n",
       "      <td>5.4</td>\n",
       "      <td>5.800000</td>\n",
       "      <td>5.7</td>\n",
       "      <td>5.781410</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>E09000003</td>\n",
       "      <td>Barnet</td>\n",
       "      <td>3.8</td>\n",
       "      <td>3.6</td>\n",
       "      <td>4.100000</td>\n",
       "      <td>3.5</td>\n",
       "      <td>2.300000</td>\n",
       "      <td>2.5</td>\n",
       "      <td>2.033547</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>E09000004</td>\n",
       "      <td>Bexley</td>\n",
       "      <td>5</td>\n",
       "      <td>4.6</td>\n",
       "      <td>3.400000</td>\n",
       "      <td>4.0</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.4</td>\n",
       "      <td>2.757009</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>E09000005</td>\n",
       "      <td>Brent</td>\n",
       "      <td>4.6</td>\n",
       "      <td>5</td>\n",
       "      <td>3.900000</td>\n",
       "      <td>2.4</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>2.6</td>\n",
       "      <td>2.239393</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>E09000006</td>\n",
       "      <td>Bromley</td>\n",
       "      <td>4.2</td>\n",
       "      <td>4.3</td>\n",
       "      <td>5.200000</td>\n",
       "      <td>4.1</td>\n",
       "      <td>5.800000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.432370</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>E09000007</td>\n",
       "      <td>Camden</td>\n",
       "      <td>5.5</td>\n",
       "      <td>6.4</td>\n",
       "      <td>7.200000</td>\n",
       "      <td>10.2</td>\n",
       "      <td>4.300000</td>\n",
       "      <td>4.4</td>\n",
       "      <td>4.388006</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>E09000008</td>\n",
       "      <td>Croydon</td>\n",
       "      <td>6.9</td>\n",
       "      <td>6.6</td>\n",
       "      <td>6.100000</td>\n",
       "      <td>4.4</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>3.3</td>\n",
       "      <td>2.886741</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>E09000009</td>\n",
       "      <td>Ealing</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.4</td>\n",
       "      <td>3.200000</td>\n",
       "      <td>3.3</td>\n",
       "      <td>3.300000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>3.222807</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>E09000010</td>\n",
       "      <td>Enfield</td>\n",
       "      <td>6.1</td>\n",
       "      <td>5.8</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>4.2</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.1</td>\n",
       "      <td>3.521019</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>E09000011</td>\n",
       "      <td>Greenwich</td>\n",
       "      <td>6.6</td>\n",
       "      <td>6.2</td>\n",
       "      <td>4.900000</td>\n",
       "      <td>6.9</td>\n",
       "      <td>6.500000</td>\n",
       "      <td>5.0</td>\n",
       "      <td>6.186373</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>E09000012</td>\n",
       "      <td>Hackney</td>\n",
       "      <td>7.4</td>\n",
       "      <td>6.2</td>\n",
       "      <td>3.900000</td>\n",
       "      <td>7.0</td>\n",
       "      <td>3.200000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>2.543212</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>E09000013</td>\n",
       "      <td>Hammersmith &amp; Fulham</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.2</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>3.200000</td>\n",
       "      <td>2.5</td>\n",
       "      <td>2.372915</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>E09000014</td>\n",
       "      <td>Haringey</td>\n",
       "      <td>6.8</td>\n",
       "      <td>6.6</td>\n",
       "      <td>4.300000</td>\n",
       "      <td>3.7</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.570539</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>E09000015</td>\n",
       "      <td>Harrow</td>\n",
       "      <td>2.9</td>\n",
       "      <td>2.7</td>\n",
       "      <td>2.500000</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1.800000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>1.429679</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>E09000016</td>\n",
       "      <td>Havering</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4</td>\n",
       "      <td>4.500000</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4.300000</td>\n",
       "      <td>4.0</td>\n",
       "      <td>3.414373</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>E09000017</td>\n",
       "      <td>Hillingdon</td>\n",
       "      <td>5.4</td>\n",
       "      <td>4.6</td>\n",
       "      <td>3.900000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>2.4</td>\n",
       "      <td>2.818430</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>E09000018</td>\n",
       "      <td>Hounslow</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4.6</td>\n",
       "      <td>4.400000</td>\n",
       "      <td>4.4</td>\n",
       "      <td>4.100000</td>\n",
       "      <td>3.2</td>\n",
       "      <td>2.494725</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>19</td>\n",
       "      <td>E09000019</td>\n",
       "      <td>Islington</td>\n",
       "      <td>7.3</td>\n",
       "      <td>6.2</td>\n",
       "      <td>8.400000</td>\n",
       "      <td>8.8</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>5.2</td>\n",
       "      <td>2.203158</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>20</td>\n",
       "      <td>E09000020</td>\n",
       "      <td>Kensington &amp; Chelsea</td>\n",
       "      <td>5</td>\n",
       "      <td>5.3</td>\n",
       "      <td>6.900000</td>\n",
       "      <td>8.6</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>3.129297</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>21</td>\n",
       "      <td>E09000021</td>\n",
       "      <td>Kingston upon Thames</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.1</td>\n",
       "      <td>3.300000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>2.610869</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>22</td>\n",
       "      <td>E09000022</td>\n",
       "      <td>Lambeth</td>\n",
       "      <td>7.6</td>\n",
       "      <td>7.4</td>\n",
       "      <td>3.600000</td>\n",
       "      <td>7.5</td>\n",
       "      <td>2.700000</td>\n",
       "      <td>2.2</td>\n",
       "      <td>1.981717</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>23</td>\n",
       "      <td>E09000023</td>\n",
       "      <td>Lewisham</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.7</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.229070</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>24</td>\n",
       "      <td>E09000024</td>\n",
       "      <td>Merton</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.5</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>4.0</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.463639</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>25</td>\n",
       "      <td>E09000025</td>\n",
       "      <td>Newham</td>\n",
       "      <td>6.7</td>\n",
       "      <td>6.4</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>5.3</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.675372</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>26</td>\n",
       "      <td>E09000026</td>\n",
       "      <td>Redbridge</td>\n",
       "      <td>4.1</td>\n",
       "      <td>4.1</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>3.400000</td>\n",
       "      <td>3.3</td>\n",
       "      <td>3.335432</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>27</td>\n",
       "      <td>E09000027</td>\n",
       "      <td>Richmond upon Thames</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.8</td>\n",
       "      <td>5.200000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>4.500000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.115401</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>28</td>\n",
       "      <td>E09000028</td>\n",
       "      <td>Southwark</td>\n",
       "      <td>8.7</td>\n",
       "      <td>8.4</td>\n",
       "      <td>4.400000</td>\n",
       "      <td>7.7</td>\n",
       "      <td>2.900000</td>\n",
       "      <td>2.0</td>\n",
       "      <td>2.177661</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>29</td>\n",
       "      <td>E09000029</td>\n",
       "      <td>Sutton</td>\n",
       "      <td>4.4</td>\n",
       "      <td>4.2</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>3.2</td>\n",
       "      <td>2.420770</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>30</td>\n",
       "      <td>E09000030</td>\n",
       "      <td>Tower Hamlets</td>\n",
       "      <td>6</td>\n",
       "      <td>5.3</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.418978</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>31</td>\n",
       "      <td>E09000031</td>\n",
       "      <td>Waltham Forest</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4.2</td>\n",
       "      <td>3.600000</td>\n",
       "      <td>3.7</td>\n",
       "      <td>3.300000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>2.953730</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>32</td>\n",
       "      <td>E09000032</td>\n",
       "      <td>Wandsworth</td>\n",
       "      <td>4.3</td>\n",
       "      <td>4.5</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>7.1</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>2.9</td>\n",
       "      <td>3.009841</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>33</td>\n",
       "      <td>E09000033</td>\n",
       "      <td>Westminster</td>\n",
       "      <td>4.6</td>\n",
       "      <td>4.1</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>7.5</td>\n",
       "      <td>3.800000</td>\n",
       "      <td>2.2</td>\n",
       "      <td>1.665284</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>34</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>35</td>\n",
       "      <td>E13000001</td>\n",
       "      <td>Inner London</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>4.938576</td>\n",
       "      <td>5.5</td>\n",
       "      <td>3.680681</td>\n",
       "      <td>3.3</td>\n",
       "      <td>2.915589</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>36</td>\n",
       "      <td>E13000002</td>\n",
       "      <td>Outer London</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>4.342574</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.912807</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.138831</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>37</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>38</td>\n",
       "      <td>E12000001</td>\n",
       "      <td>NORTH EAST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>8.800000</td>\n",
       "      <td>8.3</td>\n",
       "      <td>7.599199</td>\n",
       "      <td>7.0</td>\n",
       "      <td>5.696309</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>39</td>\n",
       "      <td>E12000002</td>\n",
       "      <td>NORTH WEST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>7.100000</td>\n",
       "      <td>6.4</td>\n",
       "      <td>5.600233</td>\n",
       "      <td>5.2</td>\n",
       "      <td>4.779808</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>40</td>\n",
       "      <td>E12000003</td>\n",
       "      <td>YORKS &amp; THE HUMBER</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>7.100000</td>\n",
       "      <td>6.3</td>\n",
       "      <td>5.700046</td>\n",
       "      <td>5.1</td>\n",
       "      <td>4.769541</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>41</td>\n",
       "      <td>E12000004</td>\n",
       "      <td>EAST MIDLANDS</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>5.400000</td>\n",
       "      <td>4.8</td>\n",
       "      <td>4.800625</td>\n",
       "      <td>4.4</td>\n",
       "      <td>3.896754</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>42</td>\n",
       "      <td>E12000005</td>\n",
       "      <td>WEST MIDLANDS</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>6.200000</td>\n",
       "      <td>6.2</td>\n",
       "      <td>5.997681</td>\n",
       "      <td>5.4</td>\n",
       "      <td>4.287773</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>43</td>\n",
       "      <td>E12000006</td>\n",
       "      <td>EAST OF ENGLAND</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>6.000000</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.101964</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4.221750</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>44</td>\n",
       "      <td>E12000007</td>\n",
       "      <td>LONDON</td>\n",
       "      <td>5.3</td>\n",
       "      <td>5</td>\n",
       "      <td>4.500000</td>\n",
       "      <td>4.7</td>\n",
       "      <td>3.798578</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.073397</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>45</td>\n",
       "      <td>E12000008</td>\n",
       "      <td>SOUTH EAST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>5.800000</td>\n",
       "      <td>5.4</td>\n",
       "      <td>5.098278</td>\n",
       "      <td>4.2</td>\n",
       "      <td>3.855537</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>46</td>\n",
       "      <td>E12000009</td>\n",
       "      <td>SOUTH WEST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>5.700000</td>\n",
       "      <td>5.5</td>\n",
       "      <td>5.202618</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4.097707</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>47</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>48</td>\n",
       "      <td>E92000001</td>\n",
       "      <td>England</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>6.119501</td>\n",
       "      <td>5.0</td>\n",
       "      <td>5.254910</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4.168570</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Unnamed: 0            Unnamed: 1 Rates Unnamed: 11  Unnamed: 12  \\\n",
       "0        Code               Borough  2009        2010  2011.000000   \n",
       "1   E09000001        City of London   0.6         0.2     0.900000   \n",
       "2   E09000002    Barking & Dagenham   7.9         6.9     6.600000   \n",
       "3   E09000003                Barnet   3.8         3.6     4.100000   \n",
       "4   E09000004                Bexley     5         4.6     3.400000   \n",
       "5   E09000005                 Brent   4.6           5     3.900000   \n",
       "6   E09000006               Bromley   4.2         4.3     5.200000   \n",
       "7   E09000007                Camden   5.5         6.4     7.200000   \n",
       "8   E09000008               Croydon   6.9         6.6     6.100000   \n",
       "9   E09000009                Ealing   4.9         4.4     3.200000   \n",
       "10  E09000010               Enfield   6.1         5.8     4.200000   \n",
       "11  E09000011             Greenwich   6.6         6.2     4.900000   \n",
       "12  E09000012               Hackney   7.4         6.2     3.900000   \n",
       "13  E09000013  Hammersmith & Fulham   5.6         5.2     4.600000   \n",
       "14  E09000014              Haringey   6.8         6.6     4.300000   \n",
       "15  E09000015                Harrow   2.9         2.7     2.500000   \n",
       "16  E09000016              Havering   4.7           4     4.500000   \n",
       "17  E09000017            Hillingdon   5.4         4.6     3.900000   \n",
       "18  E09000018              Hounslow   4.7         4.6     4.400000   \n",
       "19  E09000019             Islington   7.3         6.2     8.400000   \n",
       "20  E09000020  Kensington & Chelsea     5         5.3     6.900000   \n",
       "21  E09000021  Kingston upon Thames   3.4         3.1     3.300000   \n",
       "22  E09000022               Lambeth   7.6         7.4     3.600000   \n",
       "23  E09000023              Lewisham   4.9         4.7     5.100000   \n",
       "24  E09000024                Merton   5.6         5.5     4.600000   \n",
       "25  E09000025                Newham   6.7         6.4     4.600000   \n",
       "26  E09000026             Redbridge   4.1         4.1     4.000000   \n",
       "27  E09000027  Richmond upon Thames   3.5         3.8     5.200000   \n",
       "28  E09000028             Southwark   8.7         8.4     4.400000   \n",
       "29  E09000029                Sutton   4.4         4.2     4.200000   \n",
       "30  E09000030         Tower Hamlets     6         5.3     5.000000   \n",
       "31  E09000031        Waltham Forest   4.5         4.2     3.600000   \n",
       "32  E09000032            Wandsworth   4.3         4.5     5.100000   \n",
       "33  E09000033           Westminster   4.6         4.1     5.100000   \n",
       "34        NaN                   NaN   NaN         NaN          NaN   \n",
       "35  E13000001          Inner London     -           -     4.938576   \n",
       "36  E13000002          Outer London     -           -     4.342574   \n",
       "37        NaN                   NaN   NaN         NaN          NaN   \n",
       "38  E12000001            NORTH EAST     -           -     8.800000   \n",
       "39  E12000002            NORTH WEST     -           -     7.100000   \n",
       "40  E12000003    YORKS & THE HUMBER     -           -     7.100000   \n",
       "41  E12000004         EAST MIDLANDS     -           -     5.400000   \n",
       "42  E12000005         WEST MIDLANDS     -           -     6.200000   \n",
       "43  E12000006       EAST OF ENGLAND     -           -     6.000000   \n",
       "44  E12000007                LONDON   5.3           5     4.500000   \n",
       "45  E12000008            SOUTH EAST     -           -     5.800000   \n",
       "46  E12000009            SOUTH WEST     -           -     5.700000   \n",
       "47        NaN                   NaN     -           -          NaN   \n",
       "48  E92000001               England     -           -     6.119501   \n",
       "\n",
       "    Unnamed: 13  Unnamed: 14  Unnamed: 15  Unnamed: 16  \n",
       "0        2012.0  2013.000000       2014.0  2015.000000  \n",
       "1           0.3     2.900000          0.0     0.000000  \n",
       "2           5.4     5.800000          5.7     5.781410  \n",
       "3           3.5     2.300000          2.5     2.033547  \n",
       "4           4.0     4.200000          3.4     2.757009  \n",
       "5           2.4     3.000000          2.6     2.239393  \n",
       "6           4.1     5.800000          4.3     3.432370  \n",
       "7          10.2     4.300000          4.4     4.388006  \n",
       "8           4.4     3.000000          3.3     2.886741  \n",
       "9           3.3     3.300000          3.0     3.222807  \n",
       "10          4.2     4.200000          3.1     3.521019  \n",
       "11          6.9     6.500000          5.0     6.186373  \n",
       "12          7.0     3.200000          3.0     2.543212  \n",
       "13          3.9     3.200000          2.5     2.372915  \n",
       "14          3.7     3.500000          3.5     3.570539  \n",
       "15          2.0     1.800000          1.5     1.429679  \n",
       "16          4.7     4.300000          4.0     3.414373  \n",
       "17          3.6     3.500000          2.4     2.818430  \n",
       "18          4.4     4.100000          3.2     2.494725  \n",
       "19          8.8     5.000000          5.2     2.203158  \n",
       "20          8.6     5.100000          3.6     3.129297  \n",
       "21          3.6     4.200000          3.9     2.610869  \n",
       "22          7.5     2.700000          2.2     1.981717  \n",
       "23          3.0     3.500000          3.5     3.229070  \n",
       "24          4.0     4.600000          4.3     3.463639  \n",
       "25          5.3     4.000000          4.3     3.675372  \n",
       "26          3.6     3.400000          3.3     3.335432  \n",
       "27          3.9     4.500000          4.3     3.115401  \n",
       "28          7.7     2.900000          2.0     2.177661  \n",
       "29          3.9     4.000000          3.2     2.420770  \n",
       "30          4.9     4.600000          3.4     3.418978  \n",
       "31          3.7     3.300000          3.0     2.953730  \n",
       "32          7.1     3.500000          2.9     3.009841  \n",
       "33          7.5     3.800000          2.2     1.665284  \n",
       "34          NaN          NaN          NaN          NaN  \n",
       "35          5.5     3.680681          3.3     2.915589  \n",
       "36          3.5     3.912807          3.4     3.138831  \n",
       "37          NaN          NaN          NaN          NaN  \n",
       "38          8.3     7.599199          7.0     5.696309  \n",
       "39          6.4     5.600233          5.2     4.779808  \n",
       "40          6.3     5.700046          5.1     4.769541  \n",
       "41          4.8     4.800625          4.4     3.896754  \n",
       "42          6.2     5.997681          5.4     4.287773  \n",
       "43          5.6     5.101964          4.5     4.221750  \n",
       "44          4.7     3.798578          3.4     3.073397  \n",
       "45          5.4     5.098278          4.2     3.855537  \n",
       "46          5.5     5.202618          4.5     4.097707  \n",
       "47          NaN          NaN          NaN          NaN  \n",
       "48          5.0     5.254910          4.7     4.168570  "
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T11:11:05.921077Z",
     "start_time": "2019-11-13T11:11:05.913867Z"
    }
   },
   "outputs": [],
   "source": [
    "new_header = data.iloc[0] #grab the first row for the header\n",
    "data = data[1:] #take the data less the header row\n",
    "data.columns = new_header"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T11:11:06.589643Z",
     "start_time": "2019-11-13T11:11:06.564177Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>2009</th>\n",
       "      <th>2010</th>\n",
       "      <th>2011.0</th>\n",
       "      <th>2012.0</th>\n",
       "      <th>2013.0</th>\n",
       "      <th>2014.0</th>\n",
       "      <th>2015.0</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>E09000001</td>\n",
       "      <td>City of London</td>\n",
       "      <td>0.6</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.900000</td>\n",
       "      <td>0.3</td>\n",
       "      <td>2.900000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>E09000002</td>\n",
       "      <td>Barking &amp; Dagenham</td>\n",
       "      <td>7.9</td>\n",
       "      <td>6.9</td>\n",
       "      <td>6.600000</td>\n",
       "      <td>5.4</td>\n",
       "      <td>5.800000</td>\n",
       "      <td>5.7</td>\n",
       "      <td>5.781410</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>E09000003</td>\n",
       "      <td>Barnet</td>\n",
       "      <td>3.8</td>\n",
       "      <td>3.6</td>\n",
       "      <td>4.100000</td>\n",
       "      <td>3.5</td>\n",
       "      <td>2.300000</td>\n",
       "      <td>2.5</td>\n",
       "      <td>2.033547</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>E09000004</td>\n",
       "      <td>Bexley</td>\n",
       "      <td>5</td>\n",
       "      <td>4.6</td>\n",
       "      <td>3.400000</td>\n",
       "      <td>4.0</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.4</td>\n",
       "      <td>2.757009</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>E09000005</td>\n",
       "      <td>Brent</td>\n",
       "      <td>4.6</td>\n",
       "      <td>5</td>\n",
       "      <td>3.900000</td>\n",
       "      <td>2.4</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>2.6</td>\n",
       "      <td>2.239393</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>E09000006</td>\n",
       "      <td>Bromley</td>\n",
       "      <td>4.2</td>\n",
       "      <td>4.3</td>\n",
       "      <td>5.200000</td>\n",
       "      <td>4.1</td>\n",
       "      <td>5.800000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.432370</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>E09000007</td>\n",
       "      <td>Camden</td>\n",
       "      <td>5.5</td>\n",
       "      <td>6.4</td>\n",
       "      <td>7.200000</td>\n",
       "      <td>10.2</td>\n",
       "      <td>4.300000</td>\n",
       "      <td>4.4</td>\n",
       "      <td>4.388006</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>E09000008</td>\n",
       "      <td>Croydon</td>\n",
       "      <td>6.9</td>\n",
       "      <td>6.6</td>\n",
       "      <td>6.100000</td>\n",
       "      <td>4.4</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>3.3</td>\n",
       "      <td>2.886741</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>E09000009</td>\n",
       "      <td>Ealing</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.4</td>\n",
       "      <td>3.200000</td>\n",
       "      <td>3.3</td>\n",
       "      <td>3.300000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>3.222807</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>E09000010</td>\n",
       "      <td>Enfield</td>\n",
       "      <td>6.1</td>\n",
       "      <td>5.8</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>4.2</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.1</td>\n",
       "      <td>3.521019</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>E09000011</td>\n",
       "      <td>Greenwich</td>\n",
       "      <td>6.6</td>\n",
       "      <td>6.2</td>\n",
       "      <td>4.900000</td>\n",
       "      <td>6.9</td>\n",
       "      <td>6.500000</td>\n",
       "      <td>5.0</td>\n",
       "      <td>6.186373</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>E09000012</td>\n",
       "      <td>Hackney</td>\n",
       "      <td>7.4</td>\n",
       "      <td>6.2</td>\n",
       "      <td>3.900000</td>\n",
       "      <td>7.0</td>\n",
       "      <td>3.200000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>2.543212</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>E09000013</td>\n",
       "      <td>Hammersmith &amp; Fulham</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.2</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>3.200000</td>\n",
       "      <td>2.5</td>\n",
       "      <td>2.372915</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>E09000014</td>\n",
       "      <td>Haringey</td>\n",
       "      <td>6.8</td>\n",
       "      <td>6.6</td>\n",
       "      <td>4.300000</td>\n",
       "      <td>3.7</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.570539</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>E09000015</td>\n",
       "      <td>Harrow</td>\n",
       "      <td>2.9</td>\n",
       "      <td>2.7</td>\n",
       "      <td>2.500000</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1.800000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>1.429679</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>E09000016</td>\n",
       "      <td>Havering</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4</td>\n",
       "      <td>4.500000</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4.300000</td>\n",
       "      <td>4.0</td>\n",
       "      <td>3.414373</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>E09000017</td>\n",
       "      <td>Hillingdon</td>\n",
       "      <td>5.4</td>\n",
       "      <td>4.6</td>\n",
       "      <td>3.900000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>2.4</td>\n",
       "      <td>2.818430</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>E09000018</td>\n",
       "      <td>Hounslow</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4.6</td>\n",
       "      <td>4.400000</td>\n",
       "      <td>4.4</td>\n",
       "      <td>4.100000</td>\n",
       "      <td>3.2</td>\n",
       "      <td>2.494725</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>19</td>\n",
       "      <td>E09000019</td>\n",
       "      <td>Islington</td>\n",
       "      <td>7.3</td>\n",
       "      <td>6.2</td>\n",
       "      <td>8.400000</td>\n",
       "      <td>8.8</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>5.2</td>\n",
       "      <td>2.203158</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>20</td>\n",
       "      <td>E09000020</td>\n",
       "      <td>Kensington &amp; Chelsea</td>\n",
       "      <td>5</td>\n",
       "      <td>5.3</td>\n",
       "      <td>6.900000</td>\n",
       "      <td>8.6</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>3.129297</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>21</td>\n",
       "      <td>E09000021</td>\n",
       "      <td>Kingston upon Thames</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.1</td>\n",
       "      <td>3.300000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>2.610869</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>22</td>\n",
       "      <td>E09000022</td>\n",
       "      <td>Lambeth</td>\n",
       "      <td>7.6</td>\n",
       "      <td>7.4</td>\n",
       "      <td>3.600000</td>\n",
       "      <td>7.5</td>\n",
       "      <td>2.700000</td>\n",
       "      <td>2.2</td>\n",
       "      <td>1.981717</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>23</td>\n",
       "      <td>E09000023</td>\n",
       "      <td>Lewisham</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.7</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.229070</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>24</td>\n",
       "      <td>E09000024</td>\n",
       "      <td>Merton</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.5</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>4.0</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.463639</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>25</td>\n",
       "      <td>E09000025</td>\n",
       "      <td>Newham</td>\n",
       "      <td>6.7</td>\n",
       "      <td>6.4</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>5.3</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.675372</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>26</td>\n",
       "      <td>E09000026</td>\n",
       "      <td>Redbridge</td>\n",
       "      <td>4.1</td>\n",
       "      <td>4.1</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>3.6</td>\n",
       "      <td>3.400000</td>\n",
       "      <td>3.3</td>\n",
       "      <td>3.335432</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>27</td>\n",
       "      <td>E09000027</td>\n",
       "      <td>Richmond upon Thames</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.8</td>\n",
       "      <td>5.200000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>4.500000</td>\n",
       "      <td>4.3</td>\n",
       "      <td>3.115401</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>28</td>\n",
       "      <td>E09000028</td>\n",
       "      <td>Southwark</td>\n",
       "      <td>8.7</td>\n",
       "      <td>8.4</td>\n",
       "      <td>4.400000</td>\n",
       "      <td>7.7</td>\n",
       "      <td>2.900000</td>\n",
       "      <td>2.0</td>\n",
       "      <td>2.177661</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>29</td>\n",
       "      <td>E09000029</td>\n",
       "      <td>Sutton</td>\n",
       "      <td>4.4</td>\n",
       "      <td>4.2</td>\n",
       "      <td>4.200000</td>\n",
       "      <td>3.9</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>3.2</td>\n",
       "      <td>2.420770</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>30</td>\n",
       "      <td>E09000030</td>\n",
       "      <td>Tower Hamlets</td>\n",
       "      <td>6</td>\n",
       "      <td>5.3</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.600000</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.418978</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>31</td>\n",
       "      <td>E09000031</td>\n",
       "      <td>Waltham Forest</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4.2</td>\n",
       "      <td>3.600000</td>\n",
       "      <td>3.7</td>\n",
       "      <td>3.300000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>2.953730</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>32</td>\n",
       "      <td>E09000032</td>\n",
       "      <td>Wandsworth</td>\n",
       "      <td>4.3</td>\n",
       "      <td>4.5</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>7.1</td>\n",
       "      <td>3.500000</td>\n",
       "      <td>2.9</td>\n",
       "      <td>3.009841</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>33</td>\n",
       "      <td>E09000033</td>\n",
       "      <td>Westminster</td>\n",
       "      <td>4.6</td>\n",
       "      <td>4.1</td>\n",
       "      <td>5.100000</td>\n",
       "      <td>7.5</td>\n",
       "      <td>3.800000</td>\n",
       "      <td>2.2</td>\n",
       "      <td>1.665284</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>34</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>35</td>\n",
       "      <td>E13000001</td>\n",
       "      <td>Inner London</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>4.938576</td>\n",
       "      <td>5.5</td>\n",
       "      <td>3.680681</td>\n",
       "      <td>3.3</td>\n",
       "      <td>2.915589</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>36</td>\n",
       "      <td>E13000002</td>\n",
       "      <td>Outer London</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>4.342574</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.912807</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.138831</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>37</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>38</td>\n",
       "      <td>E12000001</td>\n",
       "      <td>NORTH EAST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>8.800000</td>\n",
       "      <td>8.3</td>\n",
       "      <td>7.599199</td>\n",
       "      <td>7.0</td>\n",
       "      <td>5.696309</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>39</td>\n",
       "      <td>E12000002</td>\n",
       "      <td>NORTH WEST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>7.100000</td>\n",
       "      <td>6.4</td>\n",
       "      <td>5.600233</td>\n",
       "      <td>5.2</td>\n",
       "      <td>4.779808</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>40</td>\n",
       "      <td>E12000003</td>\n",
       "      <td>YORKS &amp; THE HUMBER</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>7.100000</td>\n",
       "      <td>6.3</td>\n",
       "      <td>5.700046</td>\n",
       "      <td>5.1</td>\n",
       "      <td>4.769541</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>41</td>\n",
       "      <td>E12000004</td>\n",
       "      <td>EAST MIDLANDS</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>5.400000</td>\n",
       "      <td>4.8</td>\n",
       "      <td>4.800625</td>\n",
       "      <td>4.4</td>\n",
       "      <td>3.896754</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>42</td>\n",
       "      <td>E12000005</td>\n",
       "      <td>WEST MIDLANDS</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>6.200000</td>\n",
       "      <td>6.2</td>\n",
       "      <td>5.997681</td>\n",
       "      <td>5.4</td>\n",
       "      <td>4.287773</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>43</td>\n",
       "      <td>E12000006</td>\n",
       "      <td>EAST OF ENGLAND</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>6.000000</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.101964</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4.221750</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>44</td>\n",
       "      <td>E12000007</td>\n",
       "      <td>LONDON</td>\n",
       "      <td>5.3</td>\n",
       "      <td>5</td>\n",
       "      <td>4.500000</td>\n",
       "      <td>4.7</td>\n",
       "      <td>3.798578</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.073397</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>45</td>\n",
       "      <td>E12000008</td>\n",
       "      <td>SOUTH EAST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>5.800000</td>\n",
       "      <td>5.4</td>\n",
       "      <td>5.098278</td>\n",
       "      <td>4.2</td>\n",
       "      <td>3.855537</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>46</td>\n",
       "      <td>E12000009</td>\n",
       "      <td>SOUTH WEST</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>5.700000</td>\n",
       "      <td>5.5</td>\n",
       "      <td>5.202618</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4.097707</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>47</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>48</td>\n",
       "      <td>E92000001</td>\n",
       "      <td>England</td>\n",
       "      <td>-</td>\n",
       "      <td>-</td>\n",
       "      <td>6.119501</td>\n",
       "      <td>5.0</td>\n",
       "      <td>5.254910</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4.168570</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "0        Code               Borough 2009 2010    2011.0  2012.0    2013.0  \\\n",
       "1   E09000001        City of London  0.6  0.2  0.900000     0.3  2.900000   \n",
       "2   E09000002    Barking & Dagenham  7.9  6.9  6.600000     5.4  5.800000   \n",
       "3   E09000003                Barnet  3.8  3.6  4.100000     3.5  2.300000   \n",
       "4   E09000004                Bexley    5  4.6  3.400000     4.0  4.200000   \n",
       "5   E09000005                 Brent  4.6    5  3.900000     2.4  3.000000   \n",
       "6   E09000006               Bromley  4.2  4.3  5.200000     4.1  5.800000   \n",
       "7   E09000007                Camden  5.5  6.4  7.200000    10.2  4.300000   \n",
       "8   E09000008               Croydon  6.9  6.6  6.100000     4.4  3.000000   \n",
       "9   E09000009                Ealing  4.9  4.4  3.200000     3.3  3.300000   \n",
       "10  E09000010               Enfield  6.1  5.8  4.200000     4.2  4.200000   \n",
       "11  E09000011             Greenwich  6.6  6.2  4.900000     6.9  6.500000   \n",
       "12  E09000012               Hackney  7.4  6.2  3.900000     7.0  3.200000   \n",
       "13  E09000013  Hammersmith & Fulham  5.6  5.2  4.600000     3.9  3.200000   \n",
       "14  E09000014              Haringey  6.8  6.6  4.300000     3.7  3.500000   \n",
       "15  E09000015                Harrow  2.9  2.7  2.500000     2.0  1.800000   \n",
       "16  E09000016              Havering  4.7    4  4.500000     4.7  4.300000   \n",
       "17  E09000017            Hillingdon  5.4  4.6  3.900000     3.6  3.500000   \n",
       "18  E09000018              Hounslow  4.7  4.6  4.400000     4.4  4.100000   \n",
       "19  E09000019             Islington  7.3  6.2  8.400000     8.8  5.000000   \n",
       "20  E09000020  Kensington & Chelsea    5  5.3  6.900000     8.6  5.100000   \n",
       "21  E09000021  Kingston upon Thames  3.4  3.1  3.300000     3.6  4.200000   \n",
       "22  E09000022               Lambeth  7.6  7.4  3.600000     7.5  2.700000   \n",
       "23  E09000023              Lewisham  4.9  4.7  5.100000     3.0  3.500000   \n",
       "24  E09000024                Merton  5.6  5.5  4.600000     4.0  4.600000   \n",
       "25  E09000025                Newham  6.7  6.4  4.600000     5.3  4.000000   \n",
       "26  E09000026             Redbridge  4.1  4.1  4.000000     3.6  3.400000   \n",
       "27  E09000027  Richmond upon Thames  3.5  3.8  5.200000     3.9  4.500000   \n",
       "28  E09000028             Southwark  8.7  8.4  4.400000     7.7  2.900000   \n",
       "29  E09000029                Sutton  4.4  4.2  4.200000     3.9  4.000000   \n",
       "30  E09000030         Tower Hamlets    6  5.3  5.000000     4.9  4.600000   \n",
       "31  E09000031        Waltham Forest  4.5  4.2  3.600000     3.7  3.300000   \n",
       "32  E09000032            Wandsworth  4.3  4.5  5.100000     7.1  3.500000   \n",
       "33  E09000033           Westminster  4.6  4.1  5.100000     7.5  3.800000   \n",
       "34        NaN                   NaN  NaN  NaN       NaN     NaN       NaN   \n",
       "35  E13000001          Inner London    -    -  4.938576     5.5  3.680681   \n",
       "36  E13000002          Outer London    -    -  4.342574     3.5  3.912807   \n",
       "37        NaN                   NaN  NaN  NaN       NaN     NaN       NaN   \n",
       "38  E12000001            NORTH EAST    -    -  8.800000     8.3  7.599199   \n",
       "39  E12000002            NORTH WEST    -    -  7.100000     6.4  5.600233   \n",
       "40  E12000003    YORKS & THE HUMBER    -    -  7.100000     6.3  5.700046   \n",
       "41  E12000004         EAST MIDLANDS    -    -  5.400000     4.8  4.800625   \n",
       "42  E12000005         WEST MIDLANDS    -    -  6.200000     6.2  5.997681   \n",
       "43  E12000006       EAST OF ENGLAND    -    -  6.000000     5.6  5.101964   \n",
       "44  E12000007                LONDON  5.3    5  4.500000     4.7  3.798578   \n",
       "45  E12000008            SOUTH EAST    -    -  5.800000     5.4  5.098278   \n",
       "46  E12000009            SOUTH WEST    -    -  5.700000     5.5  5.202618   \n",
       "47        NaN                   NaN    -    -       NaN     NaN       NaN   \n",
       "48  E92000001               England    -    -  6.119501     5.0  5.254910   \n",
       "\n",
       "0   2014.0    2015.0  \n",
       "1      0.0  0.000000  \n",
       "2      5.7  5.781410  \n",
       "3      2.5  2.033547  \n",
       "4      3.4  2.757009  \n",
       "5      2.6  2.239393  \n",
       "6      4.3  3.432370  \n",
       "7      4.4  4.388006  \n",
       "8      3.3  2.886741  \n",
       "9      3.0  3.222807  \n",
       "10     3.1  3.521019  \n",
       "11     5.0  6.186373  \n",
       "12     3.0  2.543212  \n",
       "13     2.5  2.372915  \n",
       "14     3.5  3.570539  \n",
       "15     1.5  1.429679  \n",
       "16     4.0  3.414373  \n",
       "17     2.4  2.818430  \n",
       "18     3.2  2.494725  \n",
       "19     5.2  2.203158  \n",
       "20     3.6  3.129297  \n",
       "21     3.9  2.610869  \n",
       "22     2.2  1.981717  \n",
       "23     3.5  3.229070  \n",
       "24     4.3  3.463639  \n",
       "25     4.3  3.675372  \n",
       "26     3.3  3.335432  \n",
       "27     4.3  3.115401  \n",
       "28     2.0  2.177661  \n",
       "29     3.2  2.420770  \n",
       "30     3.4  3.418978  \n",
       "31     3.0  2.953730  \n",
       "32     2.9  3.009841  \n",
       "33     2.2  1.665284  \n",
       "34     NaN       NaN  \n",
       "35     3.3  2.915589  \n",
       "36     3.4  3.138831  \n",
       "37     NaN       NaN  \n",
       "38     7.0  5.696309  \n",
       "39     5.2  4.779808  \n",
       "40     5.1  4.769541  \n",
       "41     4.4  3.896754  \n",
       "42     5.4  4.287773  \n",
       "43     4.5  4.221750  \n",
       "44     3.4  3.073397  \n",
       "45     4.2  3.855537  \n",
       "46     4.5  4.097707  \n",
       "47     NaN       NaN  \n",
       "48     4.7  4.168570  "
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T11:11:07.835936Z",
     "start_time": "2019-11-13T11:11:07.829264Z"
    }
   },
   "outputs": [],
   "source": [
    "data.drop([1,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inplace=True)\n",
    "data.drop(['Code',2011.0,2012.0,2013.0,2014.0,2015.0],axis=1,inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:19:40.180079Z",
     "start_time": "2019-11-13T13:19:40.173759Z"
    }
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  \"\"\"Entry point for launching an IPython kernel.\n"
     ]
    }
   ],
   "source": [
    "data['Differences']=data[2010]-data[2009]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:19:42.573451Z",
     "start_time": "2019-11-13T13:19:42.557078Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>2009</th>\n",
       "      <th>2010</th>\n",
       "      <th>Differences</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Barking &amp; Dagenham</td>\n",
       "      <td>7.9</td>\n",
       "      <td>6.9</td>\n",
       "      <td>-1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Barnet</td>\n",
       "      <td>3.8</td>\n",
       "      <td>3.6</td>\n",
       "      <td>-0.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Bexley</td>\n",
       "      <td>5</td>\n",
       "      <td>4.6</td>\n",
       "      <td>-0.4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Brent</td>\n",
       "      <td>4.6</td>\n",
       "      <td>5</td>\n",
       "      <td>0.4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Bromley</td>\n",
       "      <td>4.2</td>\n",
       "      <td>4.3</td>\n",
       "      <td>0.1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>Camden</td>\n",
       "      <td>5.5</td>\n",
       "      <td>6.4</td>\n",
       "      <td>0.9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Croydon</td>\n",
       "      <td>6.9</td>\n",
       "      <td>6.6</td>\n",
       "      <td>-0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Ealing</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.4</td>\n",
       "      <td>-0.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Enfield</td>\n",
       "      <td>6.1</td>\n",
       "      <td>5.8</td>\n",
       "      <td>-0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Greenwich</td>\n",
       "      <td>6.6</td>\n",
       "      <td>6.2</td>\n",
       "      <td>-0.4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Hackney</td>\n",
       "      <td>7.4</td>\n",
       "      <td>6.2</td>\n",
       "      <td>-1.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Hammersmith &amp; Fulham</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.2</td>\n",
       "      <td>-0.4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Haringey</td>\n",
       "      <td>6.8</td>\n",
       "      <td>6.6</td>\n",
       "      <td>-0.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>Harrow</td>\n",
       "      <td>2.9</td>\n",
       "      <td>2.7</td>\n",
       "      <td>-0.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>Havering</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4</td>\n",
       "      <td>-0.7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>Hillingdon</td>\n",
       "      <td>5.4</td>\n",
       "      <td>4.6</td>\n",
       "      <td>-0.8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>Hounslow</td>\n",
       "      <td>4.7</td>\n",
       "      <td>4.6</td>\n",
       "      <td>-0.1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>19</td>\n",
       "      <td>Islington</td>\n",
       "      <td>7.3</td>\n",
       "      <td>6.2</td>\n",
       "      <td>-1.1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>20</td>\n",
       "      <td>Kensington &amp; Chelsea</td>\n",
       "      <td>5</td>\n",
       "      <td>5.3</td>\n",
       "      <td>0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>21</td>\n",
       "      <td>Kingston upon Thames</td>\n",
       "      <td>3.4</td>\n",
       "      <td>3.1</td>\n",
       "      <td>-0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>22</td>\n",
       "      <td>Lambeth</td>\n",
       "      <td>7.6</td>\n",
       "      <td>7.4</td>\n",
       "      <td>-0.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>23</td>\n",
       "      <td>Lewisham</td>\n",
       "      <td>4.9</td>\n",
       "      <td>4.7</td>\n",
       "      <td>-0.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>24</td>\n",
       "      <td>Merton</td>\n",
       "      <td>5.6</td>\n",
       "      <td>5.5</td>\n",
       "      <td>-0.1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>25</td>\n",
       "      <td>Newham</td>\n",
       "      <td>6.7</td>\n",
       "      <td>6.4</td>\n",
       "      <td>-0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>26</td>\n",
       "      <td>Redbridge</td>\n",
       "      <td>4.1</td>\n",
       "      <td>4.1</td>\n",
       "      <td>8.88178e-16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>27</td>\n",
       "      <td>Richmond upon Thames</td>\n",
       "      <td>3.5</td>\n",
       "      <td>3.8</td>\n",
       "      <td>0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>28</td>\n",
       "      <td>Southwark</td>\n",
       "      <td>8.7</td>\n",
       "      <td>8.4</td>\n",
       "      <td>-0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>29</td>\n",
       "      <td>Sutton</td>\n",
       "      <td>4.4</td>\n",
       "      <td>4.2</td>\n",
       "      <td>-0.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>30</td>\n",
       "      <td>Tower Hamlets</td>\n",
       "      <td>6</td>\n",
       "      <td>5.3</td>\n",
       "      <td>-0.7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>31</td>\n",
       "      <td>Waltham Forest</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4.2</td>\n",
       "      <td>-0.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>32</td>\n",
       "      <td>Wandsworth</td>\n",
       "      <td>4.3</td>\n",
       "      <td>4.5</td>\n",
       "      <td>0.2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>33</td>\n",
       "      <td>Westminster</td>\n",
       "      <td>4.6</td>\n",
       "      <td>4.1</td>\n",
       "      <td>-0.5</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "0                Borough 2009 2010  Differences\n",
       "2     Barking & Dagenham  7.9  6.9           -1\n",
       "3                 Barnet  3.8  3.6         -0.2\n",
       "4                 Bexley    5  4.6         -0.4\n",
       "5                  Brent  4.6    5          0.4\n",
       "6                Bromley  4.2  4.3          0.1\n",
       "7                 Camden  5.5  6.4          0.9\n",
       "8                Croydon  6.9  6.6         -0.3\n",
       "9                 Ealing  4.9  4.4         -0.5\n",
       "10               Enfield  6.1  5.8         -0.3\n",
       "11             Greenwich  6.6  6.2         -0.4\n",
       "12               Hackney  7.4  6.2         -1.2\n",
       "13  Hammersmith & Fulham  5.6  5.2         -0.4\n",
       "14              Haringey  6.8  6.6         -0.2\n",
       "15                Harrow  2.9  2.7         -0.2\n",
       "16              Havering  4.7    4         -0.7\n",
       "17            Hillingdon  5.4  4.6         -0.8\n",
       "18              Hounslow  4.7  4.6         -0.1\n",
       "19             Islington  7.3  6.2         -1.1\n",
       "20  Kensington & Chelsea    5  5.3          0.3\n",
       "21  Kingston upon Thames  3.4  3.1         -0.3\n",
       "22               Lambeth  7.6  7.4         -0.2\n",
       "23              Lewisham  4.9  4.7         -0.2\n",
       "24                Merton  5.6  5.5         -0.1\n",
       "25                Newham  6.7  6.4         -0.3\n",
       "26             Redbridge  4.1  4.1  8.88178e-16\n",
       "27  Richmond upon Thames  3.5  3.8          0.3\n",
       "28             Southwark  8.7  8.4         -0.3\n",
       "29                Sutton  4.4  4.2         -0.2\n",
       "30         Tower Hamlets    6  5.3         -0.7\n",
       "31        Waltham Forest  4.5  4.2         -0.3\n",
       "32            Wandsworth  4.3  4.5          0.2\n",
       "33           Westminster  4.6  4.1         -0.5"
      ]
     },
     "execution_count": 80,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:39:25.336545Z",
     "start_time": "2019-11-13T13:39:25.328436Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-0.271875"
      ]
     },
     "execution_count": 90,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.Differences.mean()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 89,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:39:23.660499Z",
     "start_time": "2019-11-13T13:39:23.651709Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.4356932740268756"
      ]
     },
     "execution_count": 89,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.Differences.std()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 85,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:31:49.446943Z",
     "start_time": "2019-11-13T13:31:49.437824Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-3.584638695687524"
      ]
     },
     "execution_count": 85,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "t_stat = (data.Differences.mean()-0)/(data.Differences.std()/(33)**0.5)\n",
    "t_stat"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 98,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T14:01:44.134424Z",
     "start_time": "2019-11-13T14:01:44.130817Z"
    }
   },
   "outputs": [],
   "source": [
    "p_value = .000554\n",
    "#from the tables \n",
    "#At the 0.05 level, we can reject the null hyp! Good work, unemployment went down genuinely"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:54:36.639395Z",
     "start_time": "2019-11-13T13:54:36.623921Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.7968372126774389"
      ]
     },
     "execution_count": 95,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "tt_ind_solve_power(nobs1=33, alpha=0.01, power=0.8, alternative='larger')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 97,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:57:52.252759Z",
     "start_time": "2019-11-13T13:57:52.246186Z"
    }
   },
   "outputs": [
    {
     "ename": "SyntaxError",
     "evalue": "invalid syntax (<ipython-input-97-de7b9a6f7433>, line 1)",
     "output_type": "error",
     "traceback": [
      "\u001b[0;36m  File \u001b[0;32m\"<ipython-input-97-de7b9a6f7433>\"\u001b[0;36m, line \u001b[0;32m1\u001b[0m\n\u001b[0;31m    as expected, with a small sample of 33, we are picking up only large effect sizes.\u001b[0m\n\u001b[0m     ^\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m invalid syntax\n"
     ]
    }
   ],
   "source": [
    "as expected, with a small sample of 33, we are picking up only large effect sizes! Given, that we have rejected the null hypothesis, we can see that the change from 2009 to 2010 is quite large. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 100,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T14:13:17.090701Z",
     "start_time": "2019-11-13T14:13:17.078671Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-0.2810698560212756"
      ]
     },
     "execution_count": 100,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cohen_d = (data[2010].mean()-data[2009].mean())/(((data[2010].std()**2+data[2009].std()**2)**0.5)/2)\n",
    "cohen_d"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#a small-medium effect size for the actual data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "Paired T test! "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T13:06:03.319373Z",
     "start_time": "2019-11-13T13:06:03.306339Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Ttest_relResult(statistic=3.5299081733951017, pvalue=0.0013225057790825128)"
      ]
     },
     "execution_count": 50,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "scipy.stats.ttest_rel(a= data[2009],b=data[2010])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "paired t test on random samples of crimes in london using the API "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T11:11:56.132281Z",
     "start_time": "2019-11-13T11:11:55.835694Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x1a20d8ce90>"
      ]
     },
     "execution_count": 47,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "data.plot.hist(bins=20, alpha=0.7)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T16:36:39.772097Z",
     "start_time": "2019-11-13T16:36:39.751107Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from dotenv import load_dotenv\n",
    "import os\n",
    "load_dotenv()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#run analysis on the lists of crimes "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "resp = requests.get('https://data.police.uk/api/crimes-at-location?date=2015-02&lat={}&lng={}'.format(value1,value2))\n",
    "    crime_data = resp.json()\n",
    "https://data.police.uk/api/crimes-at-location?date=2017-02&lat=52.629729&lng=-1.131592"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T17:22:19.989746Z",
     "start_time": "2019-11-13T17:22:19.565920Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "51.50572\n",
      "-0.037260000000000015\n"
     ]
    },
    {
     "ename": "JSONDecodeError",
     "evalue": "Expecting value: line 1 column 1 (char 0)",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mJSONDecodeError\u001b[0m                           Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-6-6d0b58c4e304>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      9\u001b[0m     \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvalue2\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     10\u001b[0m     \u001b[0mresp\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mrequests\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'https://data.police.uk/api/crimes-at-location?date=2015-02&lat={}&lng={}'\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mformat\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvalue1\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0mvalue2\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 11\u001b[0;31m     \u001b[0mcrime_data\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mresp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mjson\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     12\u001b[0m     \u001b[0;32mfor\u001b[0m \u001b[0mx\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mrange\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcrime_data\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     13\u001b[0m         \u001b[0mcrimes\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcrime_data\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mx\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.7/site-packages/requests/models.py\u001b[0m in \u001b[0;36mjson\u001b[0;34m(self, **kwargs)\u001b[0m\n\u001b[1;32m    895\u001b[0m                     \u001b[0;31m# used.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    896\u001b[0m                     \u001b[0;32mpass\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 897\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mcomplexjson\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mloads\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtext\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    898\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    899\u001b[0m     \u001b[0;34m@\u001b[0m\u001b[0mproperty\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.7/json/__init__.py\u001b[0m in \u001b[0;36mloads\u001b[0;34m(s, encoding, cls, object_hook, parse_float, parse_int, parse_constant, object_pairs_hook, **kw)\u001b[0m\n\u001b[1;32m    346\u001b[0m             \u001b[0mparse_int\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mNone\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mparse_float\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mNone\u001b[0m \u001b[0;32mand\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    347\u001b[0m             parse_constant is None and object_pairs_hook is None and not kw):\n\u001b[0;32m--> 348\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0m_default_decoder\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdecode\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ms\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    349\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mcls\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    350\u001b[0m         \u001b[0mcls\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mJSONDecoder\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.7/json/decoder.py\u001b[0m in \u001b[0;36mdecode\u001b[0;34m(self, s, _w)\u001b[0m\n\u001b[1;32m    335\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    336\u001b[0m         \"\"\"\n\u001b[0;32m--> 337\u001b[0;31m         \u001b[0mobj\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mend\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mraw_decode\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ms\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0midx\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0m_w\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ms\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m0\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    338\u001b[0m         \u001b[0mend\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0m_w\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ms\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mend\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    339\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mend\u001b[0m \u001b[0;34m!=\u001b[0m \u001b[0mlen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ms\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.7/json/decoder.py\u001b[0m in \u001b[0;36mraw_decode\u001b[0;34m(self, s, idx)\u001b[0m\n\u001b[1;32m    353\u001b[0m             \u001b[0mobj\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mend\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mscan_once\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ms\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0midx\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    354\u001b[0m         \u001b[0;32mexcept\u001b[0m \u001b[0mStopIteration\u001b[0m \u001b[0;32mas\u001b[0m \u001b[0merr\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 355\u001b[0;31m             \u001b[0;32mraise\u001b[0m \u001b[0mJSONDecodeError\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Expecting value\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0ms\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0merr\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mvalue\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    356\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0mobj\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mend\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mJSONDecodeError\u001b[0m: Expecting value: line 1 column 1 (char 0)"
     ]
    }
   ],
   "source": [
    "from random import seed\n",
    "from random import random\n",
    "crimes = []\n",
    "crimes2 = []\n",
    "for _ in range(100):\n",
    "    value1 = round(random()*3/10,5) + 51.3\n",
    "    value2 = round(random()*4/10,5) - 0.3\n",
    "    print(value1)\n",
    "    print(value2)\n",
    "    resp = requests.get('https://data.police.uk/api/crimes-at-location?date=2015-02&lat={}&lng={}'.format(value1,value2))\n",
    "    crime_data = resp.json()\n",
    "    for x in range(len(crime_data)):\n",
    "        crimes.append(crime_data[x])\n",
    "    resp2 = requests.get('https://data.police.uk/api/crimes-at-location?date=2016-02&lat={}&lng={}'.format(value1,value2))\n",
    "    crime_data2 = resp.json()\n",
    "    for x in range(len(crime_data2)):\n",
    "        crimes2.append(crime_data2[x])\n",
    "\n",
    "#create a list of random locations in london 51.3 to 51.6, -0.3 to 0.1\n",
    "#iterate the api over these locations and append the crimes to a list for two different years\n",
    "#now we have a random samples of crimes that month in London!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T17:22:04.386455Z",
     "start_time": "2019-11-13T17:22:04.370289Z"
    }
   },
   "outputs": [
    {
     "ename": "IndexError",
     "evalue": "list index out of range",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mIndexError\u001b[0m                                Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-4-beff77cbc8f4>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mcrimes2\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m5\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;31mIndexError\u001b[0m: list index out of range"
     ]
    }
   ],
   "source": [
    "crimes2[5]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-13T16:38:18.802810Z",
     "start_time": "2019-11-13T16:38:18.795072Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "8"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-11T17:45:03.088256Z",
     "start_time": "2019-11-11T17:45:03.040482Z"
    }
   },
   "outputs": [],
   "source": [
    "violent_crime_data = pd.DataFrame(columns=['Borough','2011-01','2011-02','2011-03','2011-04','2011-05','2011-06','2011-07','2011-08','2011-09','2011-10','2011-11','2011-12','2012-01','2012-02','2012-03','2012-04','2012-05','2012-06','2012-07','2012-08','2012-09','2012-10','2012-11','2012-12','2013-01','2013-02','2013-03','2013-04','2013-05','2013-06','2013-07','2013-08','2013-09','2013-10','2013-11','2013-12','2014-01','2014-02','2014-03','2014-04','2014-05','2014-06','2014-07','2014-08','2014-09','2014-10','2014-11','2014-12'])\n",
    "violent_crime_data = violent_crime_data.append({'Borough': 'Camden'}, ignore_index=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-11T17:53:18.948625Z",
     "start_time": "2019-11-11T17:53:18.928791Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>2011-01</th>\n",
       "      <th>2011-02</th>\n",
       "      <th>2011-03</th>\n",
       "      <th>2011-04</th>\n",
       "      <th>2011-05</th>\n",
       "      <th>2011-06</th>\n",
       "      <th>2011-07</th>\n",
       "      <th>2011-08</th>\n",
       "      <th>2011-09</th>\n",
       "      <th>...</th>\n",
       "      <th>2014-03</th>\n",
       "      <th>2014-04</th>\n",
       "      <th>2014-05</th>\n",
       "      <th>2014-06</th>\n",
       "      <th>2014-07</th>\n",
       "      <th>2014-08</th>\n",
       "      <th>2014-09</th>\n",
       "      <th>2014-10</th>\n",
       "      <th>2014-11</th>\n",
       "      <th>2014-12</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Camden</td>\n",
       "      <td>0.120833</td>\n",
       "      <td>0.114955</td>\n",
       "      <td>0.129653</td>\n",
       "      <td>0.124145</td>\n",
       "      <td>0.141664</td>\n",
       "      <td>0.143237</td>\n",
       "      <td>0.130561</td>\n",
       "      <td>0.136948</td>\n",
       "      <td>0.131707</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1 rows  49 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "  Borough   2011-01   2011-02   2011-03   2011-04   2011-05   2011-06  \\\n",
       "0  Camden  0.120833  0.114955  0.129653  0.124145  0.141664  0.143237   \n",
       "\n",
       "    2011-07   2011-08   2011-09  ... 2014-03 2014-04 2014-05 2014-06 2014-07  \\\n",
       "0  0.130561  0.136948  0.131707  ...     NaN     NaN     NaN     NaN     NaN   \n",
       "\n",
       "  2014-08 2014-09 2014-10 2014-11 2014-12  \n",
       "0     NaN     NaN     NaN     NaN     NaN  \n",
       "\n",
       "[1 rows x 49 columns]"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "violent_crime_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-11T17:45:55.933105Z",
     "start_time": "2019-11-11T17:45:38.429148Z"
    },
    "collapsed": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[0.10667340748230536,\n",
       " 0.10853530031612224,\n",
       " 0.10883905013192612,\n",
       " 0.11763319189061763,\n",
       " 0.10650887573964497,\n",
       " 0.10586707079454427,\n",
       " 0.11655913978494624,\n",
       " 0.10713422007255138,\n",
       " 0.11295418641390205,\n",
       " 0.10152890587673197,\n",
       " 0.0815552394499763,\n",
       " 0.08932522123893805,\n",
       " 0.09795805739514349,\n",
       " 0.09623797025371829,\n",
       " 0.0855550169655841,\n",
       " 0.0914164230667021,\n",
       " 0.09215413184772517,\n",
       " 0.09757961783439491,\n",
       " 0.09901222953904046,\n",
       " 0.0902725681420355,\n",
       " 0.09643062751871043,\n",
       " 0.09957627118644068,\n",
       " 0.08879668049792531,\n",
       " 0.0978812294837362,\n",
       " 0.1020714500150105,\n",
       " 0.10239945927678269,\n",
       " 0.10585885486018642,\n",
       " 0.11245728487107798,\n",
       " 0.10240592227020358,\n",
       " 0.09550898203592814,\n",
       " 0.09068150208623088,\n",
       " 0.0982272595175821,\n",
       " 0.08515497553017945,\n",
       " 0.09834190966266437,\n",
       " 0.11419645956265186,\n",
       " 0.12341657618530583,\n",
       " 0.12083333333333333,\n",
       " 0.11495535714285714,\n",
       " 0.12965340179717585,\n",
       " 0.1241453760345448,\n",
       " 0.14166388239224859,\n",
       " 0.14323695579926887,\n",
       " 0.13056092843326886,\n",
       " 0.13694820994091067,\n",
       " 0.13170731707317074,\n",
       " 0.13415737111848056,\n",
       " 0.13623639191290823,\n",
       " 0.16213527851458887]"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "now = []\n",
    "months = ['01','02','03','04','05','06','07','08','09','10','11','12']\n",
    "years = ['2011','2012','2013','2014']\n",
    "for y in years:\n",
    "    for x in months:\n",
    "        a = dc.vcp('Camden',y,x)\n",
    "        now.append(a)\n",
    "        violent_crime_data['2011-{}'.format(x)][0] = a    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-11T17:52:16.165939Z",
     "start_time": "2019-11-11T17:52:16.160013Z"
    }
   },
   "outputs": [],
   "source": [
    "October to November 2011 "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-11T18:40:42.949214Z",
     "start_time": "2019-11-11T18:40:42.930469Z"
    }
   },
   "outputs": [],
   "source": [
    "sns.set_style('whitegrid')\n",
    "%config InlineBackend.figure_format = 'retina'\n",
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-12T13:34:34.198570Z",
     "start_time": "2019-11-12T13:34:33.514852Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Dist1 has p-value 0.10152890587673197 and sample size 4186\n",
      "Dist2 has p-value 0.0815552394499763 and sample size 4218\n"
     ]
    }
   ],
   "source": [
    "october_data = pd.read_csv('London Crime Data 2011 to 2014/2011-10-metropolitan-street.csv')\n",
    "\n",
    "violent1 = len(october_data.loc[(october_data['LSOA name'].str.contains(\"Camden\")) & \\\n",
    "                     ((october_data['Crime type'] == \"Violent crime\")|(october_data['Crime type'] == \"Violence and sexual offences\"))])\n",
    "\n",
    "n1 = len(october_data.loc[(october_data['LSOA name'].str.contains(\"Camden\"))])\n",
    "\n",
    "p1 = violent1/n1\n",
    "\n",
    "mu1 = n1*p1\n",
    "\n",
    "var1 = n1*p1*(1-p1)\n",
    "\n",
    "november_data = pd.read_csv('London Crime Data 2011 to 2014/2011-11-metropolitan-street.csv')\n",
    "\n",
    "violent2 = len(november_data.loc[(november_data['LSOA name'].str.contains(\"Camden\")) & \\\n",
    "                     ((november_data['Crime type'] == \"Violent crime\")|(november_data['Crime type'] == \"Violence and sexual offences\"))])\n",
    "\n",
    "n2 = len(november_data.loc[(november_data['LSOA name'].str.contains(\"Camden\"))])\n",
    "\n",
    "p2 = violent2/n2\n",
    "\n",
    "mu2 = n2*p2\n",
    "\n",
    "var2 = n2*p2*(1-p2)\n",
    "\n",
    "print(\"Dist1 has p-value {} and sample size {}\".format(p1,n1))\n",
    "print(\"Dist2 has p-value {} and sample size {}\".format(p2,n2))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-12T13:35:47.847231Z",
     "start_time": "2019-11-12T13:35:47.843183Z"
    }
   },
   "outputs": [],
   "source": [
    "#null hyp: p1=p2 vs p1!=p2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-12T13:34:39.152683Z",
     "start_time": "2019-11-12T13:34:39.147417Z"
    }
   },
   "outputs": [],
   "source": [
    "p_hat = (n1*p1 + n2*p2)/(n1+n2)\n",
    "critical_value = 1.96"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-12T13:34:46.343547Z",
     "start_time": "2019-11-12T13:34:46.332079Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "z = (p1-p2)/((p_hat*(1-p_hat)*((1/n1)+(1/n2)))**0.5)\n",
    "z>1.96"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-12T13:55:07.268960Z",
     "start_time": "2019-11-12T13:55:07.257721Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "344\n",
      "4218\n",
      "0.10152890587673197\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "5.472003326693572e-06"
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "print(violent2)\n",
    "print(n2)\n",
    "print(p1)\n",
    "stats.binom.cdf(k=violent2, n=n2, p=p1, loc=0)\n",
    "#makes sense we are rejecting, the probability of getting this number of\n",
    "#violent crimes at the same parameter values as the month before is tiny!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#we can reject null! "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 126,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-11T20:03:13.126385Z",
     "start_time": "2019-11-11T20:03:13.087525Z"
    },
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Crime ID</th>\n",
       "      <th>Month</th>\n",
       "      <th>Reported by</th>\n",
       "      <th>Falls within</th>\n",
       "      <th>Longitude</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Location</th>\n",
       "      <th>LSOA code</th>\n",
       "      <th>LSOA name</th>\n",
       "      <th>Crime type</th>\n",
       "      <th>Last outcome category</th>\n",
       "      <th>Context</th>\n",
       "      <th>Violent?</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>13790</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142549</td>\n",
       "      <td>51.564502</td>\n",
       "      <td>On or near Raydon Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13791</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.141508</td>\n",
       "      <td>51.564198</td>\n",
       "      <td>On or near Doynton Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13792</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142549</td>\n",
       "      <td>51.564502</td>\n",
       "      <td>On or near Raydon Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13793</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142127</td>\n",
       "      <td>51.563893</td>\n",
       "      <td>On or near Balmore Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13794</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142549</td>\n",
       "      <td>51.564502</td>\n",
       "      <td>On or near Raydon Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Burglary</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17963</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.125375</td>\n",
       "      <td>51.513736</td>\n",
       "      <td>On or near Shelton Street</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Shoplifting</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17964</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.127156</td>\n",
       "      <td>51.513189</td>\n",
       "      <td>On or near Upper St Martin'S Lane</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Vehicle crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17965</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.126886</td>\n",
       "      <td>51.513778</td>\n",
       "      <td>On or near Earlham Street</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Vehicle crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17966</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.126713</td>\n",
       "      <td>51.516941</td>\n",
       "      <td>On or near New Oxford Street</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Vehicle crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17975</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.125235</td>\n",
       "      <td>51.513977</td>\n",
       "      <td>On or near Earlham Street</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Other crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3761 rows  13 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       Crime ID    Month                  Reported by  \\\n",
       "13790       NaN  2011-10  Metropolitan Police Service   \n",
       "13791       NaN  2011-10  Metropolitan Police Service   \n",
       "13792       NaN  2011-10  Metropolitan Police Service   \n",
       "13793       NaN  2011-10  Metropolitan Police Service   \n",
       "13794       NaN  2011-10  Metropolitan Police Service   \n",
       "...         ...      ...                          ...   \n",
       "17963       NaN  2011-10  Metropolitan Police Service   \n",
       "17964       NaN  2011-10  Metropolitan Police Service   \n",
       "17965       NaN  2011-10  Metropolitan Police Service   \n",
       "17966       NaN  2011-10  Metropolitan Police Service   \n",
       "17975       NaN  2011-10  Metropolitan Police Service   \n",
       "\n",
       "                      Falls within  Longitude   Latitude  \\\n",
       "13790  Metropolitan Police Service  -0.142549  51.564502   \n",
       "13791  Metropolitan Police Service  -0.141508  51.564198   \n",
       "13792  Metropolitan Police Service  -0.142549  51.564502   \n",
       "13793  Metropolitan Police Service  -0.142127  51.563893   \n",
       "13794  Metropolitan Police Service  -0.142549  51.564502   \n",
       "...                            ...        ...        ...   \n",
       "17963  Metropolitan Police Service  -0.125375  51.513736   \n",
       "17964  Metropolitan Police Service  -0.127156  51.513189   \n",
       "17965  Metropolitan Police Service  -0.126886  51.513778   \n",
       "17966  Metropolitan Police Service  -0.126713  51.516941   \n",
       "17975  Metropolitan Police Service  -0.125235  51.513977   \n",
       "\n",
       "                                Location  LSOA code    LSOA name  \\\n",
       "13790           On or near Raydon Street  E01000907  Camden 001A   \n",
       "13791          On or near Doynton Street  E01000907  Camden 001A   \n",
       "13792           On or near Raydon Street  E01000907  Camden 001A   \n",
       "13793          On or near Balmore Street  E01000907  Camden 001A   \n",
       "13794           On or near Raydon Street  E01000907  Camden 001A   \n",
       "...                                  ...        ...          ...   \n",
       "17963          On or near Shelton Street  E01000919  Camden 028D   \n",
       "17964  On or near Upper St Martin'S Lane  E01000919  Camden 028D   \n",
       "17965          On or near Earlham Street  E01000919  Camden 028D   \n",
       "17966       On or near New Oxford Street  E01000919  Camden 028D   \n",
       "17975          On or near Earlham Street  E01000919  Camden 028D   \n",
       "\n",
       "                  Crime type  Last outcome category  Context Violent?  \n",
       "13790  Anti-social behaviour                    NaN      NaN           \n",
       "13791  Anti-social behaviour                    NaN      NaN           \n",
       "13792  Anti-social behaviour                    NaN      NaN           \n",
       "13793  Anti-social behaviour                    NaN      NaN           \n",
       "13794               Burglary                    NaN      NaN           \n",
       "...                      ...                    ...      ...      ...  \n",
       "17963            Shoplifting                    NaN      NaN           \n",
       "17964          Vehicle crime                    NaN      NaN           \n",
       "17965          Vehicle crime                    NaN      NaN           \n",
       "17966          Vehicle crime                    NaN      NaN           \n",
       "17975            Other crime                    NaN      NaN           \n",
       "\n",
       "[3761 rows x 13 columns]"
      ]
     },
     "execution_count": 126,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "october_data.loc[october_data['Violent?'] == \"\"]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 129,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2019-11-11T20:04:34.972521Z",
     "start_time": "2019-11-11T20:04:34.892137Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Crime ID</th>\n",
       "      <th>Month</th>\n",
       "      <th>Reported by</th>\n",
       "      <th>Falls within</th>\n",
       "      <th>Longitude</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Location</th>\n",
       "      <th>LSOA code</th>\n",
       "      <th>LSOA name</th>\n",
       "      <th>Crime type</th>\n",
       "      <th>Last outcome category</th>\n",
       "      <th>Context</th>\n",
       "      <th>Violent?</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>13790</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142549</td>\n",
       "      <td>51.564502</td>\n",
       "      <td>On or near Raydon Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13791</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.141508</td>\n",
       "      <td>51.564198</td>\n",
       "      <td>On or near Doynton Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13792</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142549</td>\n",
       "      <td>51.564502</td>\n",
       "      <td>On or near Raydon Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13793</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142127</td>\n",
       "      <td>51.563893</td>\n",
       "      <td>On or near Balmore Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Anti-social behaviour</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13794</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.142549</td>\n",
       "      <td>51.564502</td>\n",
       "      <td>On or near Raydon Street</td>\n",
       "      <td>E01000907</td>\n",
       "      <td>Camden 001A</td>\n",
       "      <td>Burglary</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17971</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.125375</td>\n",
       "      <td>51.513736</td>\n",
       "      <td>On or near Shelton Street</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Violent crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17972</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.125134</td>\n",
       "      <td>51.514326</td>\n",
       "      <td>On or near Nottingham Court</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Violent crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17973</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.127306</td>\n",
       "      <td>51.514783</td>\n",
       "      <td>On or near Shaftesbury Avenue</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Violent crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17974</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.129966</td>\n",
       "      <td>51.514933</td>\n",
       "      <td>On or near Charing Cross Road</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Violent crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17975</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2011-10</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>Metropolitan Police Service</td>\n",
       "      <td>-0.125235</td>\n",
       "      <td>51.513977</td>\n",
       "      <td>On or near Earlham Street</td>\n",
       "      <td>E01000919</td>\n",
       "      <td>Camden 028D</td>\n",
       "      <td>Other crime</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>4186 rows  13 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       Crime ID    Month                  Reported by  \\\n",
       "13790       NaN  2011-10  Metropolitan Police Service   \n",
       "13791       NaN  2011-10  Metropolitan Police Service   \n",
       "13792       NaN  2011-10  Metropolitan Police Service   \n",
       "13793       NaN  2011-10  Metropolitan Police Service   \n",
       "13794       NaN  2011-10  Metropolitan Police Service   \n",
       "...         ...      ...                          ...   \n",
       "17971       NaN  2011-10  Metropolitan Police Service   \n",
       "17972       NaN  2011-10  Metropolitan Police Service   \n",
       "17973       NaN  2011-10  Metropolitan Police Service   \n",
       "17974       NaN  2011-10  Metropolitan Police Service   \n",
       "17975       NaN  2011-10  Metropolitan Police Service   \n",
       "\n",
       "                      Falls within  Longitude   Latitude  \\\n",
       "13790  Metropolitan Police Service  -0.142549  51.564502   \n",
       "13791  Metropolitan Police Service  -0.141508  51.564198   \n",
       "13792  Metropolitan Police Service  -0.142549  51.564502   \n",
       "13793  Metropolitan Police Service  -0.142127  51.563893   \n",
       "13794  Metropolitan Police Service  -0.142549  51.564502   \n",
       "...                            ...        ...        ...   \n",
       "17971  Metropolitan Police Service  -0.125375  51.513736   \n",
       "17972  Metropolitan Police Service  -0.125134  51.514326   \n",
       "17973  Metropolitan Police Service  -0.127306  51.514783   \n",
       "17974  Metropolitan Police Service  -0.129966  51.514933   \n",
       "17975  Metropolitan Police Service  -0.125235  51.513977   \n",
       "\n",
       "                            Location  LSOA code    LSOA name  \\\n",
       "13790       On or near Raydon Street  E01000907  Camden 001A   \n",
       "13791      On or near Doynton Street  E01000907  Camden 001A   \n",
       "13792       On or near Raydon Street  E01000907  Camden 001A   \n",
       "13793      On or near Balmore Street  E01000907  Camden 001A   \n",
       "13794       On or near Raydon Street  E01000907  Camden 001A   \n",
       "...                              ...        ...          ...   \n",
       "17971      On or near Shelton Street  E01000919  Camden 028D   \n",
       "17972    On or near Nottingham Court  E01000919  Camden 028D   \n",
       "17973  On or near Shaftesbury Avenue  E01000919  Camden 028D   \n",
       "17974  On or near Charing Cross Road  E01000919  Camden 028D   \n",
       "17975      On or near Earlham Street  E01000919  Camden 028D   \n",
       "\n",
       "                  Crime type  Last outcome category  Context Violent?  \n",
       "13790  Anti-social behaviour                    NaN      NaN           \n",
       "13791  Anti-social behaviour                    NaN      NaN           \n",
       "13792  Anti-social behaviour                    NaN      NaN           \n",
       "13793  Anti-social behaviour                    NaN      NaN           \n",
       "13794               Burglary                    NaN      NaN           \n",
       "...                      ...                    ...      ...      ...  \n",
       "17971          Violent crime                    NaN      NaN        1  \n",
       "17972          Violent crime                    NaN      NaN        1  \n",
       "17973          Violent crime                    NaN      NaN        1  \n",
       "17974          Violent crime                    NaN      NaN        1  \n",
       "17975            Other crime                    NaN      NaN           \n",
       "\n",
       "[4186 rows x 13 columns]"
      ]
     },
     "execution_count": 129,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "october_data.loc[october_data['LSOA name'].str.contains(\"Camden\")]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  },
  "toc": {
   "base_numbering": 1,
   "nav_menu": {},
   "number_sections": true,
   "sideBar": true,
   "skip_h1_title": false,
   "title_cell": "Table of Contents",
   "title_sidebar": "Contents",
   "toc_cell": false,
   "toc_position": {},
   "toc_section_display": true,
   "toc_window_display": false
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
